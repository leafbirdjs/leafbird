var leafbird=null;!function(){function e(){}leafbird=new e;var t={json:null,replace_element:!1,validation_callback:void 0,required_label:null,show_group_label:!1,show_placeholder:!1,show_input_label:!1,multiselect_input:!1,multifile_input:!1};this.Leafbird=function(t){return this instanceof e?void this.configure(t):new e(t)},e.prototype.configure=function(e){for(var i in e)t.hasOwnProperty(i)&&void 0!=e[i]&&(t[i]=e[i])},e.prototype.find=function(e,i,l,a){var r=[],d=void 0==a?t.json:a;for(var s in d)if(s==e&&(void 0==i||l&&d[e].indexOf(i)>-1||!l&&d[e]==i)&&r.push(d),d[s]instanceof Object){var n=this.find(e,i,l,d[s]);n.length>0&&(r=r.concat(n))}return r},e.prototype.print=function(e,l,a){var r={};for(var d in t)r[d]=t[d];if(!(e instanceof HTMLElement))throw new SyntaxError("Invalid HTMLElement.",e);this.configure(a);var s=this.getElements(l);t.replace_element&&(e.innerHTML="");for(var n in s)i(s[n],e);this.configure(r)},e.prototype.getElements=function(e){if(!t.json)throw new Error("JSON is not valid.",t.json);var i=[],l=e&&0==e.indexOf("*")?1:0;if(void 0==e)i.push(t.json);else if(e.indexOf("#")==l)i=this.find("id",e.substring(l+1),l);else if(e.indexOf(".")==l)i=this.find("class",e.substring(l+1),l);else{if(e.indexOf(":")!=l)throw new SyntaxError("JSONAttribute "+e+" is not valid.",e);i=this.find("name",e.substring(l+1),l)}return i};var i=function(e,t){if(e.hasOwnProperty("type"))a(e,t);else{var r=l(e);for(var d in e)if(e[d]instanceof Array)for(var s in e[d])i(e[d][s],r);t.appendChild(r)}},l=function(e){var i=document.createElement("div");if(void 0!=e.id&&i.setAttribute("id",e.id),void 0!=e["class"]&&i.setAttribute("class",e["class"]),t.show_group_label&&void 0!=e.label){var l=document.createElement("span");void 0!=e.label.title&&l.setAttribute("title",e.label.title),l.appendChild(document.createTextNode(e.label.value)),i.appendChild(l)}return i},a=function(e,i){if(void 0==e.name)throw new SyntaxError("FieldName is required.",e.name);switch(t.show_input_label&&e.label&&e.label.value&&r(e,i),e.type){case"radio":case"checkbox":n(e,i);break;case"textarea":s(e,i);break;case"select":u(e,i);break;case"datalist":break;case"key":break;case"file":o(e,i);break;default:d(e,i)}},r=function(e,i){var l=document.createElement("label");if(void 0!=e.id&&l.setAttribute("for",e.id),void 0!=e.label["class"]&&l.setAttribute("class",e.label["class"]),void 0!=e.label.title&&l.setAttribute("title",e.label.title),l.appendChild(document.createTextNode(e.label.value)),t.required_label&&e.required){var a=document.createElement("span");a.appendChild(document.createTextNode(t.required_label)),l.appendChild(a)}i.appendChild(l)},d=function(e,i){var l=document.createElement("input");l.setAttribute("type",e.type),l.setAttribute("name",e.name),void 0!=e.id&&l.setAttribute("id",e.id),void 0!=e["class"]&&l.setAttribute("class",e["class"]),void 0!=e["default"]&&l.setAttribute("value",e["default"]),void 0!=e.title&&l.setAttribute("title",e.title),e.required&&l.setAttribute("required","required"),!t.show_placeholder||void 0==e.placeholder&&void 0==e.label||l.setAttribute("placeholder",void 0==e.placeholder?e.label.value:e.placeholder),i.appendChild(l)},s=function(e,i){var l=document.createElement("textarea");l.setAttribute("name",e.name),void 0!=e.id&&l.setAttribute("id",e.id),void 0!=e["class"]&&l.setAttribute("class",e["class"]),void 0!=e.title&&l.setAttribute("title",e.title),e.required&&l.setAttribute("required","required"),void 0!=e["default"]&&l.appendChild(document.createTextNode(e["default"])),!t.show_placeholder||void 0==e.placeholder&&void 0==e.label||input.setAttribute("placeholder",void 0==e.placeholder?e.label.value:e.placeholder),i.appendChild(l)},n=function(e,t){for(var i in e.values){var l=document.createElement("input");if(l.setAttribute("type",e.type),l.setAttribute("name",e.name),l.setAttribute("value",e.values[i].value),void 0!=e.id&&l.setAttribute("id",e.id+"_"+i),void 0!=e["class"]&&l.setAttribute("class",e["class"]),e["default"]==e.values[i].value&&l.setAttribute("checked","checked"),e.required&&l.setAttribute("required","required"),void 0!=e.values[i].label){var a=document.createElement("label");void 0!=e.id&&a.setAttribute("for",e.id+"_"+i),void 0!=e.values[i].label["class"]&&a.setAttribute("class",e.values[i].label["class"]),void 0!=e.values[i].label.title&&a.setAttribute("title",e.values[i].label.title),a.appendChild(l),a.appendChild(document.createTextNode(e.values[i].label.value)),t.appendChild(a)}else t.appendChild(l)}},u=function(e,i){var l=document.createElement("select");l.setAttribute("name",e.name),void 0!=e.id&&l.setAttribute("id",e.id),void 0!=e["class"]&&l.setAttribute("class",e["class"]),void 0!=e.title&&l.setAttribute("title",e.title),e.required&&l.setAttribute("required","required"),t.multiselect_input&&l.setAttribute("multiple","multiple");for(var a in e.values){var r=document.createElement("option");r.appendChild(document.createTextNode(e.values[a].label.value)),r.setAttribute("value",e.values[a].value),void 0!=e.values[a].label["class"]&&r.setAttribute("class",e.values[a].label["class"]),e["default"]==e.values[a].value&&r.setAttribute("selected","selected"),l.appendChild(r)}i.appendChild(l)},o=function(e,i){var l=document.createElement("input");l.setAttribute("type","file"),l.setAttribute("name",e.name),void 0!=e.id&&l.setAttribute("id",e.id),void 0!=e["class"]&&l.setAttribute("class",e["class"]),void 0!=e.accept&&l.setAttribute("accept",e.accept),void 0!=e.title&&l.setAttribute("title",e.title),e.required&&l.setAttribute("required","required"),t.multifile_input&&l.setAttribute("multiple","multiple"),i.appendChild(l)};window.Leafbird=e,window.lb=e}();